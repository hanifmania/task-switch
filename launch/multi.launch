<?xml version="1.0" encoding="utf-8"?>
<launch>
    <param name="/agentNum" value="3"/>

    <param name="/x_min" value="-2.0"/>
    <param name="/x_max" value="2.0"/>
    <param name="/y_min" value="-2.0"/>
    <param name="/y_max" value="2.0"/>
    <param name="/mesh_acc/x" value="100"/>
    <param name="/mesh_acc/y" value="100"/>

    <node name="poseCollector" pkg="task_switch" type="posecollector.py" output="screen">
      <param name="posestampedTopic" value="/virtualdrone/posestamped"/>
    </node>


    <node name="pcc_parameter" pkg="task_switch" type="task_switch_pcc_param_server" output="screen"/>
    <node name="charge_parameter" pkg="task_switch" type="task_switch_charge_param_server" output="screen"/>
    <node name="cbf_parameter" pkg="task_switch" type="task_switch_cbf_param_server" output="screen"/>

    <node name="rqt_reconfigure" pkg="rqt_reconfigure" type="rqt_reconfigure" output="screen"/>

    <node pkg="task_switch" name="central" type="central.py" output="screen"/>


    

    <!-- Run simulation -->
    <group ns="bebop101">
      <arg name="number" default="1"/>
      <param name="markername" value="$(arg number)"/>
      <param name="agentID" value="$(arg number)"/>
      <param name="initial_pose/x" value="1.0"/>
      <param name="charge_station/x" value="0.0"/>
      <param name="charge_station/y" value="1.5"/>
      <param name="charge_station/r" value="0.2"/>
      <param name="initialEnergy" value="4000"/>
      <!-- <param name="~tf_prefix" value="bebop10$(arg number)"/> -->
      <include file="$(find task_switch)/launch/one.launch"/>
    </group>

    <group ns="bebop102">
      <arg name="number" default="2"/>
      <param name="markername" value="$(arg number)"/>
      <param name="agentID" value="$(arg number)"/>
      <param name="initial_pose/x" value="-1.8"/>
      <param name="initial_pose/y" value="-1.8"/>
      <param name="charge_station/x" value="0.0"/>
      <param name="charge_station/y" value="-1.5"/>
      <param name="charge_station/r" value="0.2"/>
      <param name="initialEnergy" value="4000"/>
      <!-- <param name="~tf_prefix" value="bebop10$(arg number)"/> -->
      <include file="$(find task_switch)/launch/one.launch"/>
    </group>

    <group ns="bebop103">
      <arg name="number" default="3"/>
      <param name="markername" value="$(arg number)"/>
      <param name="agentID" value="$(arg number)"/>
      <param name="initial_pose/x" value="1.8"/>
      <param name="initial_pose/y" value="-1.8"/>
      <param name="charge_station/x" value="1.5"/>
      <param name="charge_station/y" value="-0.0"/>
      <param name="charge_station/r" value="0.2"/>
      <param name="initialEnergy" value="4000"/>
      <!-- <param name="~tf_prefix" value="bebop10$(arg number)"/> -->
      <include file="$(find task_switch)/launch/one.launch"/>
    </group>

    <!-- <group ns="bebop103"> -->
    <!--   <arg name="number" default="3"/> -->
    <!--   <param name="~agentID" value="$(arg number)"/> -->
    <!--   <param name="~initial_pose/y" value="-0.5"/> -->
    <!--   <!-1- <param name="~tf_prefix" value="bebop10$(arg number)"/> -1-> -->
    <!--   <include file="$(find task_switch)/launch/one.launch"/> -->
    <!-- </group> -->

    <!-- <group ns="bebop104"> -->
    <!--   <arg name="number" default="4"/> -->
    <!--   <param name="~agentID" value="$(arg number)"/> -->
    <!--   <!-1- <param name="~tf_prefix" value="bebop10$(arg number)"/> -1-> -->
    <!--   <include file="$(find task_switch)/launch/one.launch"/> -->
    <!-- </group> -->

    <!-- <node pkg="task_switch" name="visualize_surf" type="visualize_surf_python.py" output="screen"> -->
    <!--   <remap from="surf_value" to="/info"/> -->
    <!-- </node> -->
    <node pkg="task_switch" name="visualize_surf" type="visualize_surf_pointcloud.py" output="screen">
      <remap from="surf_value" to="/info"/>
    </node>

    <!-- <node pkg="task_switch" name="plotter" type="plotter.py" output="screen"> -->
    <!--   <remap from="surf_value" to="/info"/> -->
    <!-- </node> -->

    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find task_switch)/config/sim_python.rviz"/>   
</launch>
